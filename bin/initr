#!/bin/sh
# Todo: Update R interpreter
rsc=/home/philipp/Developer/Vimscript/init.vim/bin/initr_rsc/

echo "Initialize git"
git init .
git config --local user.email pvwc@parcit.de
git config --local user.username "pvwc"
git config --local user.name "PhilippVWC"
git config --local alias.c commit
git config --local alias.s status

echo "deposit important scripts into project directory" 
echo "projectPath <- \"$(pwd)/\"" > ./.Rprofile
cp "$rsc".gitignore .
cp "$rsc"initRenv.R .
cp "$rsc"pre-commit ./.git/hooks/
cp -r "$rsc".hooks .
chmod a+x ./.git/hooks/pre-commit

echo "Initialize renv-project" 
Rscript ./initRenv.R
rm ./initRenv.R

echo "Save infrastructure to git"
git add ./.gitignore
git add ./.hooks
git add renv.lock

# git commit --no-verify -am "Initial commit"
git commit -am "Initial commit"

echo "Update all vim plugins"
updvimplugs

echo "Install nvimcom into private project library"
instnvc

echo "Initialization of R project done"
